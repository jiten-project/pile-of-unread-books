# 積読本管理アプリ - 要件定義書

## 1. プロジェクト概要

### 1.1 アプリ名（仮称）
**Tsundoku（積読）** - 積読本管理アプリ

### 1.2 コンセプト
「積んである本を見える化し、読書のモチベーションを高める」

### 1.3 ターゲットユーザー
- 本を買うのが好きだが、読むスピードが追いつかない人
- 積読本の量を把握・管理したい人
- 読書習慣を改善したい人

---

## 2. 技術スタック

### 2.1 フロントエンド
| 項目 | 技術 |
|------|------|
| フレームワーク | React Native (Expo) |
| 言語 | TypeScript |
| 状態管理 | Zustand または Redux Toolkit |
| ナビゲーション | React Navigation |
| UIライブラリ | React Native Paper または NativeBase |

### 2.2 データ保存
| フェーズ | 技術 |
|---------|------|
| Phase 1 | ローカルストレージ（AsyncStorage / SQLite） |
| Phase 2 | クラウド同期（Firebase / Supabase） |

### 2.3 外部API
- **書籍情報取得**: Google Books API / OpenBD API / 国立国会図書館API
- **バーコードスキャン**: expo-barcode-scanner

---

## 3. 機能要件

### 3.1 本の登録機能

#### 3.1.1 バーコードスキャン登録
- カメラでISBNバーコードを読み取り
- ISBN から書籍情報を自動取得
- 取得情報：タイトル、著者、出版社、発売日、表紙画像、ページ数

#### 3.1.2 ISBN手入力登録
- ISBNコードを手動入力
- バーコードスキャンと同様に情報を自動取得

#### 3.1.3 手動登録
- すべての情報を手動で入力
- ISBN がない本（古書、同人誌など）に対応

### 3.2 書籍情報

#### 3.2.1 基本情報（自動取得）
| 項目 | 説明 |
|------|------|
| タイトル | 本のタイトル |
| 著者 | 著者名（複数対応） |
| 出版社 | 出版社名 |
| 発売日 | 出版日 |
| 表紙画像 | サムネイル表示用 |
| ページ数 | 総ページ数 |
| ISBN | 13桁または10桁 |

#### 3.2.2 ユーザー入力情報
| 項目 | 説明 |
|------|------|
| ステータス | 積読 / 読書中 / 中断 / 読了 |
| 購入日 | 購入した日付 |
| 購入場所 | 書店名、Amazon、メルカリなど |
| 購入価格 | 支払った金額 |
| 購入動機 | なぜこの本を買ったか |
| 優先度 | 高/中/低 または ★1〜5 |
| カテゴリ | 小説、ビジネス、技術書など |
| タグ | 自由にタグ付け（複数可） |
| メモ | 自由記述の読書メモ |
| 読了日 | 読み終わった日付 |

### 3.3 ステータス管理

```
┌─────────┐     ┌─────────┐     ┌─────────┐
│  積読   │────▶│ 読書中  │────▶│  読了   │
└─────────┘     └─────────┘     └─────────┘
                    │
                    ▼
               ┌─────────┐
               │  中断   │
               └─────────┘
```

| ステータス | 説明 | アイコン例 |
|-----------|------|-----------|
| 積読 | 未読。これから読む本 | 📚 |
| 読書中 | 現在読んでいる本 | 📖 |
| 中断 | 途中で読むのをやめた本 | ⏸️ |
| 読了 | 読み終わった本 | ✅ |

### 3.4 表示・閲覧機能

#### 3.4.1 本棚表示
- 表紙画像をグリッド表示（本棚風UI）
- ステータス別に棚を分ける
- ドラッグ&ドロップで並べ替え

#### 3.4.2 リスト表示
- 一覧形式で詳細情報を表示
- ソート機能（登録日、購入日、優先度、タイトル）

#### 3.4.3 検索・フィルター
- タイトル、著者名での検索
- ステータスでフィルター
- カテゴリ、タグでフィルター
- 優先度でフィルター

### 3.5 統計・ダッシュボード

#### 3.5.1 概要表示
- 積読本の総数
- 読了本の総数
- 読書中の本の数
- 今月読了した本の数

#### 3.5.2 グラフ・チャート
- 月別読了数の推移（棒グラフ）
- ステータス別の割合（円グラフ）
- カテゴリ別の分布
- 積読の増減推移

#### 3.5.3 積読分析
- 積読期間が長い本のリスト
- 購入金額の合計（未読分）
- 「最も長く積んでいる本」の表示

### 3.6 リマインダー通知

#### 3.6.1 通知タイプ
- 「積読が○冊になりました」
- 「この本を買って○ヶ月経ちました」
- 「今日の読書タイムです」（定期通知）
- 「おすすめの1冊」（ランダムピックアップ）

#### 3.6.2 設定
- 通知のON/OFF
- 通知時間の設定
- 通知頻度の設定

---

## 4. 非機能要件

### 4.1 パフォーマンス
- アプリ起動時間：3秒以内
- 本の登録処理：2秒以内
- 1000冊以上の登録に対応

### 4.2 ユーザビリティ
- 直感的なUI/UX
- ダークモード対応
- 日本語・英語対応

### 4.3 データ
- ローカルバックアップ機能（JSONエクスポート）
- データのインポート機能
- 将来のクラウド同期に対応した設計

### 4.4 セキュリティ
- ローカルデータの暗号化（オプション）
- 生体認証によるアプリロック（オプション）

---

## 5. 画面構成

### 5.1 画面一覧

```
App
├── ホーム（ダッシュボード）
├── 本棚
│   ├── 積読
│   ├── 読書中
│   ├── 中断
│   └── 読了
├── 本の登録
│   ├── バーコードスキャン
│   ├── ISBN入力
│   └── 手動入力
├── 本の詳細
│   └── 編集
├── 検索
├── 統計
└── 設定
    ├── 通知設定
    ├── 表示設定
    ├── データ管理
    └── アプリ情報
```

### 5.2 ナビゲーション
- ボトムタブ：ホーム、本棚、登録（+）、統計、設定
- 登録ボタンは中央に大きく配置（FABスタイル）

---

## 6. 開発フェーズ

### Phase 1: MVP（Minimum Viable Product）
**目標**: 基本的な積読管理ができる状態

- [ ] プロジェクトセットアップ（Expo + TypeScript）
- [ ] 基本的なナビゲーション構築
- [ ] ローカルストレージ実装
- [ ] 手動での本登録機能
- [ ] 本の一覧表示（リスト形式）
- [ ] ステータス変更機能
- [ ] 本の詳細表示・編集

### Phase 2: コア機能
**目標**: 差別化機能の追加

- [ ] バーコードスキャン機能
- [ ] 書籍API連携（自動情報取得）
- [ ] 本棚表示（グリッド表示）
- [ ] 検索・フィルター機能
- [ ] カテゴリ・タグ機能

### Phase 3: 付加価値機能
**目標**: ユーザー体験の向上

- [ ] 統計・ダッシュボード
- [ ] リマインダー通知
- [ ] ダークモード
- [ ] データエクスポート/インポート

### Phase 4: クラウド対応
**目標**: 複数端末対応

- [ ] ユーザー認証
- [ ] クラウドデータベース連携
- [ ] 端末間同期

---

## 7. 技術的な検討事項

### 7.1 書籍情報API
| API | メリット | デメリット |
|-----|---------|-----------|
| Google Books API | 豊富なデータ、無料 | 日本語書籍が弱い場合あり |
| OpenBD | 日本の書籍に特化、無料 | データの網羅性にばらつき |
| 国立国会図書館API | 網羅性が高い | レスポンスが遅い場合あり |

**推奨**: 複数APIを組み合わせてフォールバック

### 7.2 ローカルストレージ
| 技術 | ユースケース |
|------|-------------|
| AsyncStorage | 設定値、少量データ |
| SQLite (expo-sqlite) | 書籍データ、クエリが必要な場合 |
| WatermelonDB | 大量データ、オフライン同期を見据える場合 |

**推奨**: SQLite（将来のクラウド同期を考慮）

---

## 8. 今後の拡張案（将来構想）

- 読書目標の設定（月○冊など）
- 読書タイマー機能
- 本の貸し借り管理
- 読書コミュニティ機能
- 本の購入リンク連携
- AIによる次に読むべき本のレコメンド

---

## 付録: ワイヤーフレーム概要

### ホーム画面
```
┌─────────────────────────────┐
│  Tsundoku            [👤]  │
├─────────────────────────────┤
│  ┌─────────────────────┐   │
│  │  📚 積読: 42冊      │   │
│  │  📖 読書中: 3冊     │   │
│  │  ✅ 今月読了: 5冊   │   │
│  └─────────────────────┘   │
│                             │
│  📊 今月の読書             │
│  ┌─────────────────────┐   │
│  │  [棒グラフ]         │   │
│  └─────────────────────┘   │
│                             │
│  🎯 おすすめの1冊          │
│  ┌─────────────────────┐   │
│  │ [表紙] タイトル      │   │
│  │        積読歴: 3ヶ月 │   │
│  └─────────────────────┘   │
├─────────────────────────────┤
│ [🏠] [📚] [➕] [📊] [⚙️]   │
└─────────────────────────────┘
```

### 本棚画面
```
┌─────────────────────────────┐
│  本棚        [🔍] [≡]      │
├─────────────────────────────┤
│ [積読] [読書中] [中断] [読了]│
├─────────────────────────────┤
│  ┌───┐ ┌───┐ ┌───┐ ┌───┐  │
│  │   │ │   │ │   │ │   │  │
│  │ 📕│ │ 📗│ │ 📘│ │ 📙│  │
│  │   │ │   │ │   │ │   │  │
│  └───┘ └───┘ └───┘ └───┘  │
│  ┌───┐ ┌───┐ ┌───┐ ┌───┐  │
│  │   │ │   │ │   │ │   │  │
│  │ 📕│ │ 📗│ │ 📘│ │ 📙│  │
│  │   │ │   │ │   │ │   │  │
│  └───┘ └───┘ └───┘ └───┘  │
│         ...                 │
├─────────────────────────────┤
│ [🏠] [📚] [➕] [📊] [⚙️]   │
└─────────────────────────────┘
```

---

**ドキュメント作成日**: 2024年12月28日
**バージョン**: 1.0
